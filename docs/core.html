---

title: core


keywords: fastai
sidebar: home_sidebar

summary: "Image scraping library for creating deep learning datasets. Uses DuckDuckGo, as the API for searching has more options and better results than the alternatives."
description: "Image scraping library for creating deep learning datasets. Uses DuckDuckGo, as the API for searching has more options and better results than the alternatives."
nb_path: "00_core.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_core.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Search-filtering">Search filtering<a class="anchor-link" href="#Search-filtering"> </a></h2><p>The scrape/search functions can use the following enums as filters for searches. By default the results <strong>should be</strong> square photos. This is what's requested from DDG. Sometimes results may not be quite what you've requested (eg: you may get a bit of clipart or something more or less square but not exactly). No checks are done on what comes back.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">ImgSize</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
  <span class="n">Thumbs</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
  <span class="n">Small</span><span class="o">=</span><span class="s2">&quot;Small&quot;</span>
  <span class="n">Medium</span><span class="o">=</span><span class="s2">&quot;Medium&quot;</span>
  <span class="n">Large</span><span class="o">=</span><span class="s2">&quot;Large&quot;</span>
  <span class="n">Wallpaper</span><span class="o">=</span><span class="s2">&quot;Wallpaper&quot;</span>

<span class="k">class</span> <span class="nc">ImgType</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
  <span class="n">All</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
  <span class="n">Photo</span><span class="o">=</span><span class="s2">&quot;photo&quot;</span>
  <span class="n">Clipart</span><span class="o">=</span><span class="s2">&quot;clipart&quot;</span>
  <span class="n">Gif</span><span class="o">=</span><span class="s2">&quot;gif&quot;</span>
  <span class="n">Transparent</span><span class="o">=</span><span class="s2">&quot;transparent&quot;</span>

<span class="k">class</span> <span class="nc">ImgLayout</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
  <span class="n">All</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
  <span class="n">Square</span><span class="o">=</span><span class="s2">&quot;Square&quot;</span>
  <span class="n">Tall</span><span class="o">=</span><span class="s2">&quot;Tall&quot;</span>
  <span class="n">Wide</span><span class="o">=</span><span class="s2">&quot;Wide&quot;</span>
  
<span class="k">class</span> <span class="nc">ImgColor</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
  <span class="n">All</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
  <span class="n">Color</span><span class="o">=</span><span class="s2">&quot;color&quot;</span>
  <span class="n">Monochrome</span><span class="o">=</span><span class="s2">&quot;Monochrome&quot;</span>
  <span class="n">Red</span><span class="o">=</span><span class="s2">&quot;Red&quot;</span>
  <span class="n">Orange</span><span class="o">=</span><span class="s2">&quot;Orange&quot;</span>
  <span class="n">Yellow</span><span class="o">=</span><span class="s2">&quot;Yellow&quot;</span>
  <span class="n">Green</span><span class="o">=</span><span class="s2">&quot;Green&quot;</span>
  <span class="n">Blue</span><span class="o">=</span><span class="s2">&quot;Blue&quot;</span>
  <span class="n">Purple</span><span class="o">=</span><span class="s2">&quot;Purple&quot;</span>
  <span class="n">Pink</span><span class="o">=</span><span class="s2">&quot;Pink&quot;</span> 
  <span class="n">Brown</span><span class="o">=</span><span class="s2">&quot;Brown&quot;</span>
  <span class="n">Black</span><span class="o">=</span><span class="s2">&quot;Black&quot;</span> 
  <span class="n">Gray</span><span class="o">=</span><span class="s2">&quot;Gray&quot;</span> 
  <span class="n">Teal</span><span class="o">=</span><span class="s2">&quot;Teal&quot;</span>
  <span class="n">White</span><span class="o">=</span><span class="s2">&quot;White&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ImgSize" class="doc_header"><code>ImgSize</code><a href="https://github.com/joedockrill/jmd_imagescraper/tree/master/jmd_imagescraper/core.py#L25" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Enum</code> = [Thumbs, Small, Medium, Large, Wallpaper]</p>
</blockquote>
<p>An enumeration.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ImgType" class="doc_header"><code>ImgType</code><a href="https://github.com/joedockrill/jmd_imagescraper/tree/master/jmd_imagescraper/core.py#L32" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Enum</code> = [All, Photo, Clipart, Gif, Transparent]</p>
</blockquote>
<p>An enumeration.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ImgLayout" class="doc_header"><code>ImgLayout</code><a href="https://github.com/joedockrill/jmd_imagescraper/tree/master/jmd_imagescraper/core.py#L39" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Enum</code> = [All, Square, Tall, Wide]</p>
</blockquote>
<p>An enumeration.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ImgColor" class="doc_header"><code>ImgColor</code><a href="https://github.com/joedockrill/jmd_imagescraper/tree/master/jmd_imagescraper/core.py#L45" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Enum</code> = [All, Color, Monochrome, Red, Orange, Yellow, Green, Blue, Purple, Pink, Brown, Black, Gray, Teal, White]</p>
</blockquote>
<p>An enumeration.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Scraping-URLs">Scraping URLs<a class="anchor-link" href="#Scraping-URLs"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="duckduckgo_scrape_urls" class="doc_header"><code>duckduckgo_scrape_urls</code><a href="https://github.com/joedockrill/jmd_imagescraper/tree/master/jmd_imagescraper/core.py#L63" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>duckduckgo_scrape_urls</code>(<strong><code>keywords</code></strong>:<code>str</code>, <strong><code>max_results</code></strong>:<code>int</code>, <strong><code>img_size</code></strong>:<a href="/jmd_imagescraper/core.html#ImgSize"><code>ImgSize</code></a>=<em><code>&lt;ImgSize.Thumbs: ''&gt;</code></em>, <strong><code>img_type</code></strong>:<a href="/jmd_imagescraper/core.html#ImgType"><code>ImgType</code></a>=<em><code>&lt;ImgType.Photo: 'photo'&gt;</code></em>, <strong><code>img_layout</code></strong>:<a href="/jmd_imagescraper/core.html#ImgLayout"><code>ImgLayout</code></a>=<em><code>&lt;ImgLayout.Square: 'Square'&gt;</code></em>, <strong><code>img_color</code></strong>:<a href="/jmd_imagescraper/core.html#ImgColor"><code>ImgColor</code></a>=<em><code>&lt;ImgColor.All: ''&gt;</code></em>)</p>
</blockquote>
<p>scrape urls from duckduckgo image search</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Returns a list of image URLs for this search. At the time of writing, this function will return up to 477 urls for a single search.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Image</span> <span class="k">as</span> <span class="n">IPImage</span>

<span class="k">def</span> <span class="nf">display_img</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="n">display</span><span class="p">(</span><span class="n">IPImage</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">links</span> <span class="o">=</span> <span class="n">duckduckgo_scrape_urls</span><span class="p">(</span><span class="s2">&quot;happy clowns&quot;</span><span class="p">,</span> <span class="n">max_results</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">links</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;https://tse1.mm.bing.net/th?id=OIP.LR-2HW7P9ENbMGJ7cZTVGwHaHL&amp;pid=Api&#39;,
 &#39;https://tse4.mm.bing.net/th?id=OIP.jgAbDJb9lY-p0Q83Q2xsCgHaI0&amp;pid=Api&#39;,
 &#39;https://tse4.mm.bing.net/th?id=OIP.4g2txn6PXyuTbEXcJPI2qQHaIE&amp;pid=Api&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">display_img</span><span class="p">(</span><span class="n">links</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<img src="https://tse1.mm.bing.net/th?id=OIP.LR-2HW7P9ENbMGJ7cZTVGwHaHL&pid=Api"/>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note that what gets returned by default is actually the image preview you see in the search results, not a thumbnail, and is quite a decent size, but comes from DDG. If you specify a size other than thumbs, then the URL returned is the original source URL, and is therefore more likely to fail a download attempt. The default (as shown above) should generally be sufficient for your needs.</p>
<p>Since the parameters you use are likely to be the same across every image search within your dataset, if you plan on overriding the defaults, you can pass your parameters in using a dictionary like this:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;max_results&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s2">&quot;img_size&quot;</span><span class="p">:</span>    <span class="n">ImgSize</span><span class="o">.</span><span class="n">Medium</span><span class="p">,</span> 
    <span class="s2">&quot;img_type&quot;</span><span class="p">:</span>    <span class="n">ImgType</span><span class="o">.</span><span class="n">Photo</span><span class="p">,</span>
    <span class="s2">&quot;img_layout&quot;</span><span class="p">:</span>  <span class="n">ImgLayout</span><span class="o">.</span><span class="n">All</span><span class="p">,</span>
    <span class="s2">&quot;img_color&quot;</span><span class="p">:</span>   <span class="n">ImgColor</span><span class="o">.</span><span class="n">Purple</span>
<span class="p">}</span>

<span class="n">links</span> <span class="o">=</span> <span class="n">duckduckgo_scrape_urls</span><span class="p">(</span><span class="s2">&quot;puppies&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span>
<span class="n">links</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;http://4.bp.blogspot.com/-GKGVUan6I3w/UOQtWCzichI/AAAAAAAANs0/mxox-FdrnRA/s1600/019.jpg&#39;,
 &#39;https://i.pinimg.com/736x/fa/fd/83/fafd8381375e3724bb2b2842ad175792--alessandra-ambrosio-dip-dyed.jpg&#39;,
 &#39;https://i.pinimg.com/originals/7e/a1/5b/7ea15b145096fd73aa95b4cf1ea2d35c.gif&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">display_img</span><span class="p">(</span><span class="n">links</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="c1"># why? just why??</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<img src="http://4.bp.blogspot.com/-GKGVUan6I3w/UOQtWCzichI/AAAAAAAANs0/mxox-FdrnRA/s1600/019.jpg"/>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Downloading-images">Downloading images<a class="anchor-link" href="#Downloading-images"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="rmtree" class="doc_header"><code>rmtree</code><a href="https://github.com/joedockrill/jmd_imagescraper/tree/master/jmd_imagescraper/core.py#L143" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>rmtree</code>(<strong><code>path</code></strong>:<code>Union</code>[<code>str</code>, <code>Path</code>])</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can use <code>rmtree()</code> to scrub your downloaded images, either to create a new dataset or if you just want to "reset" and start over.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">root</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span><span class="o">/</span><span class="s2">&quot;images&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="download_urls" class="doc_header"><code>download_urls</code><a href="https://github.com/joedockrill/jmd_imagescraper/tree/master/jmd_imagescraper/core.py#L150" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>download_urls</code>(<strong><code>path</code></strong>:<code>Union</code>[<code>str</code>, <code>Path</code>], <strong><code>links</code></strong>:<code>list</code>)</p>
</blockquote>
<p>downloads urls into the given folder</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Downloads a list of URLs into the given folder. Files will be saved as 001.jpg, 002.jpg etc but images already present will not be overwritten, so you can run multiple searches for the same label (eg: different genres of orchid all under one 'orchid' label) and file numbering will carry on from the last one on disc.</p>
<p>Downloaded files will be checked for validity so you should never end up with corrupt images or truncated downloads.</p>
<p>Returns a list of Path objects for succesfully downloaded images.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">download_urls</span><span class="p">(</span><span class="n">root</span><span class="o">/</span><span class="s2">&quot;purple&quot;</span><span class="p">,</span> <span class="n">links</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Downloading 3 results into C:\Users\Joe\Documents\GitHub\jmd_imagescraper\images\purple
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[Path(&#39;C:/Users/Joe/Documents/GitHub/jmd_imagescraper/images/purple/001.jpg&#39;),
 Path(&#39;C:/Users/Joe/Documents/GitHub/jmd_imagescraper/images/purple/002.jpg&#39;),
 Path(&#39;C:/Users/Joe/Documents/GitHub/jmd_imagescraper/images/purple/003.jpg&#39;)]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="duckduckgo_search" class="doc_header"><code>duckduckgo_search</code><a href="https://github.com/joedockrill/jmd_imagescraper/tree/master/jmd_imagescraper/core.py#L194" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>duckduckgo_search</code>(<strong><code>path</code></strong>:<code>Union</code>[<code>str</code>, <code>Path</code>], <strong><code>label</code></strong>:<code>str</code>, <strong><code>keywords</code></strong>:<code>str</code>, <strong><code>max_results</code></strong>:<code>int</code>=<em><code>100</code></em>, <strong><code>img_size</code></strong>:<a href="/jmd_imagescraper/core.html#ImgSize"><code>ImgSize</code></a>=<em><code>&lt;ImgSize.Thumbs: ''&gt;</code></em>, <strong><code>img_type</code></strong>:<a href="/jmd_imagescraper/core.html#ImgType"><code>ImgType</code></a>=<em><code>&lt;ImgType.Photo: 'photo'&gt;</code></em>, <strong><code>img_layout</code></strong>:<a href="/jmd_imagescraper/core.html#ImgLayout"><code>ImgLayout</code></a>=<em><code>&lt;ImgLayout.Square: 'Square'&gt;</code></em>, <strong><code>img_color</code></strong>:<a href="/jmd_imagescraper/core.html#ImgColor"><code>ImgColor</code></a>=<em><code>&lt;ImgColor.All: ''&gt;</code></em>)</p>
</blockquote>
<p>run a duckduckgo search and download the images</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Run a search and download the images. Returns a list of Path objects for the image files on disc.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">duckduckgo_search</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;Nice&quot;</span><span class="p">,</span> <span class="s2">&quot;nice clowns&quot;</span><span class="p">,</span> <span class="n">max_results</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Duckduckgo search: nice clowns
Downloading 3 results into C:\Users\Joe\Documents\GitHub\jmd_imagescraper\images\Nice
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[Path(&#39;C:/Users/Joe/Documents/GitHub/jmd_imagescraper/images/Nice/001.jpg&#39;),
 Path(&#39;C:/Users/Joe/Documents/GitHub/jmd_imagescraper/images/Nice/002.jpg&#39;),
 Path(&#39;C:/Users/Joe/Documents/GitHub/jmd_imagescraper/images/Nice/003.jpg&#39;)]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If you want a list of all the images downloaded across multiple searches you can do it like this:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;max_results&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s2">&quot;img_size&quot;</span><span class="p">:</span>    <span class="n">ImgSize</span><span class="o">.</span><span class="n">Thumbs</span><span class="p">,</span> 
    <span class="s2">&quot;img_type&quot;</span><span class="p">:</span>    <span class="n">ImgType</span><span class="o">.</span><span class="n">Photo</span><span class="p">,</span>
    <span class="s2">&quot;img_layout&quot;</span><span class="p">:</span>  <span class="n">ImgLayout</span><span class="o">.</span><span class="n">Square</span><span class="p">,</span>
    <span class="s2">&quot;img_color&quot;</span><span class="p">:</span>   <span class="n">ImgColor</span><span class="o">.</span><span class="n">All</span>
<span class="p">}</span>

<span class="n">imgs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">imgs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">duckduckgo_search</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;Nice&quot;</span><span class="p">,</span> <span class="s2">&quot;nice clowns&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">))</span>
<span class="n">imgs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">duckduckgo_search</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;Scary&quot;</span><span class="p">,</span> <span class="s2">&quot;scary clowns&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">))</span>
<span class="n">imgs</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Duckduckgo search: nice clowns
Downloading 3 results into C:\Users\Joe\Documents\GitHub\jmd_imagescraper\images\Nice
Duckduckgo search: scary clowns
Downloading 3 results into C:\Users\Joe\Documents\GitHub\jmd_imagescraper\images\Scary
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[Path(&#39;C:/Users/Joe/Documents/GitHub/jmd_imagescraper/images/Nice/004.jpg&#39;),
 Path(&#39;C:/Users/Joe/Documents/GitHub/jmd_imagescraper/images/Nice/005.jpg&#39;),
 Path(&#39;C:/Users/Joe/Documents/GitHub/jmd_imagescraper/images/Nice/006.jpg&#39;),
 Path(&#39;C:/Users/Joe/Documents/GitHub/jmd_imagescraper/images/Scary/001.jpg&#39;),
 Path(&#39;C:/Users/Joe/Documents/GitHub/jmd_imagescraper/images/Scary/002.jpg&#39;),
 Path(&#39;C:/Users/Joe/Documents/GitHub/jmd_imagescraper/images/Scary/003.jpg&#39;)]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Creating-a-CSV-dataset">Creating a CSV dataset<a class="anchor-link" href="#Creating-a-CSV-dataset"> </a></h2><p>If you want to create a very large dataset with a lot of images but don't want to store and distribute a very large file, you can create a CSV file containing URL/label pairs. Your users can then download the image files themselves.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="save_urls_to_csv" class="doc_header"><code>save_urls_to_csv</code><a href="https://github.com/joedockrill/jmd_imagescraper/tree/master/jmd_imagescraper/core.py#L206" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>save_urls_to_csv</code>(<strong><code>path</code></strong>:<code>Union</code>[<code>str</code>, <code>Path</code>], <strong><code>label</code></strong>:<code>str</code>, <strong><code>keywords</code></strong>:<code>str</code>, <strong><code>max_results</code></strong>:<code>int</code>=<em><code>100</code></em>, <strong><code>img_size</code></strong>:<a href="/jmd_imagescraper/core.html#ImgSize"><code>ImgSize</code></a>=<em><code>&lt;ImgSize.Thumbs: ''&gt;</code></em>, <strong><code>img_type</code></strong>:<a href="/jmd_imagescraper/core.html#ImgType"><code>ImgType</code></a>=<em><code>&lt;ImgType.Photo: 'photo'&gt;</code></em>, <strong><code>img_layout</code></strong>:<a href="/jmd_imagescraper/core.html#ImgLayout"><code>ImgLayout</code></a>=<em><code>&lt;ImgLayout.Square: 'Square'&gt;</code></em>, <strong><code>img_color</code></strong>:<a href="/jmd_imagescraper/core.html#ImgColor"><code>ImgColor</code></a>=<em><code>&lt;ImgColor.All: ''&gt;</code></em>)</p>
</blockquote>
<p>run a search and concat the urls to a csv</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">csv</span> <span class="o">=</span> <span class="n">root</span><span class="o">/</span><span class="s2">&quot;clowns.csv&quot;</span>
<span class="n">save_urls_to_csv</span><span class="p">(</span><span class="n">csv</span><span class="p">,</span> <span class="s2">&quot;Nice&quot;</span><span class="p">,</span> <span class="s2">&quot;nice clowns&quot;</span><span class="p">,</span> <span class="n">max_results</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">save_urls_to_csv</span><span class="p">(</span><span class="n">csv</span><span class="p">,</span> <span class="s2">&quot;Scary&quot;</span><span class="p">,</span> <span class="s2">&quot;scary clowns&quot;</span><span class="p">,</span> <span class="n">max_results</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">csv</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>URL</th>
      <th>Label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>https://tse4.mm.bing.net/th?id=OIP.uFX0ybAs0Hi...</td>
      <td>Nice</td>
    </tr>
    <tr>
      <th>1</th>
      <td>https://tse4.mm.bing.net/th?id=OIP.s3Ie8ax_Fa6...</td>
      <td>Nice</td>
    </tr>
    <tr>
      <th>2</th>
      <td>https://tse1.mm.bing.net/th?id=OIP.lwC5ho3Ta-T...</td>
      <td>Nice</td>
    </tr>
    <tr>
      <th>3</th>
      <td>https://tse4.mm.bing.net/th?id=OIP.glEf94S1eD0...</td>
      <td>Nice</td>
    </tr>
    <tr>
      <th>4</th>
      <td>https://tse1.mm.bing.net/th?id=OIP.9lCTTlLeQV9...</td>
      <td>Nice</td>
    </tr>
    <tr>
      <th>5</th>
      <td>https://tse3.mm.bing.net/th?id=OIP.zMsnePdSfSb...</td>
      <td>Scary</td>
    </tr>
    <tr>
      <th>6</th>
      <td>https://tse3.mm.bing.net/th?id=OIP.yhDrJ18seBC...</td>
      <td>Scary</td>
    </tr>
    <tr>
      <th>7</th>
      <td>https://tse1.mm.bing.net/th?id=OIP.y5tm55MMKcW...</td>
      <td>Scary</td>
    </tr>
    <tr>
      <th>8</th>
      <td>https://tse3.mm.bing.net/th?id=OIP.MWOP-aLPv8D...</td>
      <td>Scary</td>
    </tr>
    <tr>
      <th>9</th>
      <td>https://tse4.mm.bing.net/th?id=OIP.LOPx2ViR4-C...</td>
      <td>Scary</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="download_images_from_csv" class="doc_header"><code>download_images_from_csv</code><a href="https://github.com/joedockrill/jmd_imagescraper/tree/master/jmd_imagescraper/core.py#L226" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>download_images_from_csv</code>(<strong><code>path</code></strong>:<code>Union</code>[<code>str</code>, <code>Path</code>], <strong><code>csv</code></strong>:<code>Union</code>[<code>str</code>, <code>Path</code>], <strong><code>url_col</code></strong>:<code>str</code>=<em><code>'URL'</code></em>, <strong><code>label_col</code></strong>:<code>str</code>=<em><code>'Label'</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This will (you've guessed it), download the image files from the CSV file we've just created. You can also supply column names if you want to use it on a CSV file created elsewhere with different names.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">download_images_from_csv</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">csv</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Downloading 5 results into C:\Users\Joe\Documents\GitHub\jmd_imagescraper\images\Nice
Downloading 5 results into C:\Users\Joe\Documents\GitHub\jmd_imagescraper\images\Scary
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">notebook2script</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Converted 00_core.ipynb.
Converted index.ipynb.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

